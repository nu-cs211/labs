\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{211lab}[2020/1/6 0.2]

\RequirePackage{fancyvrb}
\RequirePackage{microtype}
\RequirePackage{hyperref}
\RequirePackage{url}
\RequirePackage{underscore}

\newcommand\@pad@two[1]{\@pad@two@check#1\relax}
\newcommand\@pad@two@check[2]{%
  \ifx#2\relax0\fi
  #1%
}

\hypersetup{
    colorlinks=true
}

\urlstyle{sf}

\newcommand\progname[1]{\emph{#1}}
\newcommand\hostname[1]{\emph{#1}}
\newcommand\filename[1]{\textsf{#1}}
\newcommand\varname[1]{\textsf{#1}}
\newcommand\functionname[1]{\emph{#1}}
\newcommand\promptchar{\%}
\newcommand\prompt[1][\promptchar]{{\normalfont\ttfamily\itshape#1}}
\newcommand\metavar[1]{{\normalfont\ensuremath{\langle\textit{#1}\rangle}}}
\newcommand\cmdline[1]{\fbox{\normalfont\ttfamily#1}}
\newcommand\keycombo[1]{\textsf{#1}}

\DefineVerbatimEnvironment%
  {CmdLine}{Verbatim}
  {commandchars=\\\{\}}

\DefineVerbatimEnvironment%
  {Code}{Verbatim}
  {}

\let\sup^
\catcode`^\active
\relax
\def^#1^{\verb!#1!}

\newcommand\WEBROOT{https://users.cs.northwestern.edu/~jesse/course/cs211}

\newcommand\LabBaseUrl{\WEBROOT/lab}
\newcommand\ThisLabTgz{\LabBaseUrl/\ThisLabBase.tgz}
\newcommand\ThisLabZip{\LabBaseUrl/\ThisLabBase.zip}
\newcommand\LabHostnames@Url
  {it.eecs.northwestern.edu/info/2015/11/03/info-labs.html\#workstations}
\newcommand\LabHostnames@ShortUrl
  {https://bit.ly/3c1qyui}
\newcommand\LabHostnamesLink
  {\href{\LabHostnames@ShortUrl}{{\UrlFont{\LabHostnames@Url}}}}

\newcommand\CxxSetupUrl{\WEBROOT/notes/toolchain_setup.html}
\newcommand\CxxLinuxUrl{\WEBROOT/notes/ge211_linux.html}

\newcommand\CxxPrelims@toolchain{
  \subsection{Toolchain setup}

  Like the remaining homeworks, this lab is designed to be done on your
  own computer, which means you need a C++14 toolchain and the SDL2
  libraries installed. Follow \href{\CxxSetupUrl}{these
  instructions} to setup your computer for C++ and GE211.
  \marginpar{
    If you ever need to work on one of the lab computers,
    you can find \href{\CxxLinuxUrl}{instructions here}.
  }
}

\newcommand\CxxPrelims@project{
  \subsection{Project setup}

  For C++ projects, including this lab, the starter code is provided as
  a ZIP file for you to download: \url{\ThisLabZip}. Extract the archive
  file into a directory in the location of your choosing. Once you have
  your new directory containing the starter files, you can open it in
  CLion.

  Be careful, as CLion will only work correctly if you open the
  \emph{main project directory} (which has the the
  \filename{CMakeLists.txt} in it). If you open any other directory,
  CLion will create a \filename{CMakeLists.txt} for you, but it won't
  work properly.
}

\newcommand\CxxPrelims{
  \section{Lab setup}

  \@ifnextchar*{
    \CxxPrelims@toolchain
    \CxxPrelims@project
    \@gobble
  }{
    \CxxPrelims@project
  }%
}

\newcommand\LabInfo[2]{
  \def\ThisLabBase{lab\@pad@two{#1}}
  \title{CS 211 Lab #1}
  \author{#2}
  \date{Winter 2020}
}


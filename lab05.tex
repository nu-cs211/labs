\documentclass{tufte-handout}

\usepackage{211lab}
\LabInfo{5}{Welcome to C++}

\begin{document}

\catcode`\#=12

\maketitle

Today we begin programming in C++ and the GE211 game engine in a minimal
example game. The game is quite simple: The player controls two circles
on the screen---one with the mouse and one with the keyboard---and when
the two circles overlap, one changes color. As you will see, however, it
comes with a bug.

Before you can get started, you’ll need to install a C++ and GE211
development environment. This means you’ll be setting up a C++ compiler,
the CLion IDE, and the SDL2 graphics libraries. Read on\ldots.

\CxxPrelims*

\section{The game}

\subsection{Broken control}

Currently, there is an bug in this code. Run the program and try to
control the circle with your left and right arrow keys, and you will
move in the opposite direction of what you intend. Locate the code for
this---hint: it's in the model---and fix it.

There are test cases for checking the model's movement, so when you are
done try running your code against the tests.

\subsection{Up and down}

As you have seen, the circle that is controlled by the keyboard only
moves horizontally right now. Add two member functions to the
\verb!Model! struct, \texttt{Model::move\_large\_circle\_up()} and
\texttt{Model::move\_large\_circle\_down()}, and connect them to the
keyboard by modifying the \texttt{Game::on\_key(Key)} member function in
\filename{game.cpp}.

\subsection{Click, not hover}

Currently, the position of the smaller circle tracks the position of the
mouse. However, what if we want the game to only update the position of
smaller circle when we click? To detect mouse clicks, you will have to
override the
\href{https://bit.ly/39jNovM}
{\texttt{Abstract\_game::on\_mouse\_down(Mouse\_button, Position)}}
function in the \verb!Game! struct.
\marginpar{The function signature
is a link to the function’s documentation.}

\subsection{Testing}

The current tests include a few examples that should pass
for your code. Add two new test cases for the new functions you added to
the model, and verify that they do what you expect.

There is a test case that checks that the state will sometimes be
\verb!Collision_state::touching!. Fill in the final test for checking
when the circles aren't touching.

\end{document}

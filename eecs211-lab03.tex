\RequirePackage{fixltx2e}
\documentclass{tufte-handout}

\usepackage{eecs211-lab}

\title{EECS 211 Lab 3}
\author{Using CLion, and more practice with Vectors and Loops}
\date{Winter 2017}

\begin{document}

\maketitle

Today we will be installing an IDE (Integrated Development Environment) called CLion to make development of our C++ programs a little bit easier.  In addition, we will be practicing our programming tools we've learned over the last few weeks!

\section{Installing CLion}

The first thing we will be doing today will be installing CLion in order
to make writing C++ programs easier and more user friendly.  First, go
to JetBrains's\marginnote{JetBrains is the developer of CLion and lots
of other developer tools} website and apply for a student account:
\medskip

\url{www.jetbrains.com/shop/eform/students} \medskip

\noindent
Once you submit your information, you will be receiving a confirmation
email.  Click confirm, then you will immediately receive a second email
with a link to complete your JetBrains registration.

\subsection{Windows}

Before installing CLion on Windows, you need to install a C++
toolchain.\marginnote{A toolchain consists of a compiler and other
programming tools.} Download MinGW from here:

\medskip
\url{http://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win32/Personal%20Builds/mingw-builds/installer/mingw-w64-install.exe/download}

\medskip\noindent
Follow the prompts to install MinGW---all the default options should
suffice. Take note of where you install it, as you will have to
configure CLion to find it.

Then go to this link to get CLion:

\medskip
\url{https://www.jetbrains.com/clion/}

\medskip\noindent
Press Download, then install CLion through their steps
and login to your JetBrains account in order to activate your CLion
editor. When prompted for the toolchain location, provide the path where
you installed MinGW; this should be a directory that contains
subdirectories with names like \filename{bin} and \filename{lib}. Check
all of the ``Create associations'' boxes when they appear. Besides that,
the default installation settings should work fine.\marginnote{Don't
worry about Plugins.}


\subsection{Mac}

OS X automatically installs its toolchain\marginnote{A toolchain
consists of a compiler and other programming tools.} when you
attempt to use it from the command line for the first time. Thus, to
install developer tools, run the \progname{Terminal.app} program (from
\filename{/Applications/Utilities}) to get a command prompt. At the prompt, type

\begin{CmdLine}
  \prompt clang
\end{CmdLine}

\noindent
and press return. If it prints ``\texttt{clang: error: no input files}''
then you have it installed already. Otherwise, a dialog box will pop up
and offer to install the command-line developer tools for you. Say yes.

Then go to this link to get CLion:

\medskip
\url{https://www.jetbrains.com/clion/}

\medskip\noindent
Press Download, then install CLion through their steps and login to your
JetBrains account in order to activate your CLion editor. The default
installation settings should work fine.\marginnote{Don't worry about
Plugins.}

\section{Using our first CLion Project}

Once you have CLion installed, download the zip file from the course
site: \medskip

\url{http://users.eecs.northwestern.edu/~jesse/course/eecs211/lab/eecs211-lab03.zip} \medskip

\noindent
Once you have downloaded the zip file onto your laptop, extract the zip file into its own folder. Make sure you keep track of which folder it's in!  Next, open up CLion and Click on File --> Open Project, and click on the Lab 3 project that you just unzipped. 

Once you open the project, test out the output from the program already loaded on your screen.  In order to do this, look into the top right corner of your CLion Window.  Press the button that has a down arrow with 1s and 0s.  This is the Build button.  This will essentially set up our CMake environment we previously would have to build on the command line.\marginnote{One big advantage of IDEs are their ability to abstract out the command line.} Then, press the arrow that looks like a play button just to the right of that, called the Run button.  The first time you press it, in the ``Executable'' line, click the dropdown menu down to ``Lab3.''  Next hit Apply, then you can hit Run.  Notice in the subwindow on the bottom of your CLion window. You can now see our nice message in the output! This should remind you of DrRacket from EECS 111. You have a top window where you edit your code, and a bottom window which displays the output of your code when it runs.

\section{Continuing with Vectors and structs}
If you remember from class, a Vector is a way of storing a group of items together of the same type.  The basic syntax of a vector for a declaration is:
\begin{Code}
vector<type> varName;
\end{Code}

You can initialize the vector with a set of values using the following notation:
\begin{Code}
vector<type> varName = {var1, var2, varN};
\end{Code}

Notice in the lab that we created a struct called \varname{Dog} which has a few attributes.  In this lab, you will be the owner of a Dog Sanctuary, where you want to make sure that all the dogs are happy and getting along well together.  In your main function, we created a few instances of Dogs and gave them names, ages, and happiness ratings.\marginnote{Note that the happiness rating is at the discretion of your assistant and may be wrong, but they're doing their best so cut them some slack!}  We also created a vector of the type Dog called \varname{dogs}, initialized to contain all of the Dogs that we created.  Feel free to create one or two of your own dogs and add them to the vector!


The first thing that you will be doing is trying to find the youngest dog at your sanctuary, so that you can warn guests to the sanctuary about them teething on the guests' fingers.\marginnote{That could stop donations from coming in to help out all the dogs!}  Go to the function skeleton we gave you for \functionname{youngestDog}, and try and write a function that will return the Dog who is the youngest. Keep in mind that you can use a \functionname{foreach} loop, which has the form:
\begin{Code}
    for(Type var : vectorName){
        // Do stuff here with var, for example:
        cout<<var.name<<'\n';
    }
\end{Code}

We put an example \functionname{foreach} loop in the main function to help you out.\marginnote{Remember that you should be returning the youngest Dog, not the youngest Dog's age.}

Call the function you just wrote in the main function, and print out the name of the youngest dog from your function's result using \functionname{cout}.  

This time you just have to press the run button, and it will automatically build your program for you and run it!

Now, once you have written \functionname{youngestDog}, write a similar function called \functionname{happiestDog} where you have to find the happiest Dog in the vector, and return that dog.

Again, go back to the main function and call your new function on the \varname{dogs} vector, and print out the name of the happiest dog.

Once you have found your happiest and youngest dogs, let's create a function that can help you find a dog's owner given only the dog's name.  Fill in the function \functionname{findOwner} which takes in both a \varname{vector<Dog>} and a \varname{string}, where you have to return the name of the Dog's owner which you found from the vector.

Once you have this, try it out by calling it in your main function to ensure that you are able to find the name of a Dog's owner, and test out a few examples, printing out the names of the dog owners.

\section{Dealing with Errors}

Now, let's consider the case where the dog name inputted to the \functionname{findOwner} function is not in the \varname{dogs} vector.  In this case, let's try and print an error to the output, so we know that we have a weird solution.  We can use \functionname{cerr} to print out this to the output window for our special error output.  

Call \functionname{findOwner} with arguments which should create this error to occur.  
Notice the color of the text in your output window for the error!  

Now, remember from class that while \functionname{cerr} will output an error in your output window, it will not cause the program to fail/exit.  
Now, let's assume that if you can't find the dog name in the \varname{dogs} vector that you want to stop running the program.  
We can \varname{throw} a \varname{runtime_error} using the following syntax: 
\begin{Code}
throw runtime_error("Name of the error you want to produce");
\end{Code}

Now, notice when you run the program again, in the same call you made before to \functionname{findOwner}, when you hit the error, instead of silently outputting an error, your code will stop running entirely.  
You can test this out by adding a \functionname{cout} line after your call to \functionname{findOwner}, and see that it never runs! 
Please feel free to post on Piazza with any questions, or ask your TA!  


\end{document}
